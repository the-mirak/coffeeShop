<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu - Brew Haven</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="logo">Brew Haven</h1>
            <nav class="nav">
                <a href="/" class="nav-link">Home</a>
                <a href="/menu" class="nav-link">Menu</a>
                <a href="/about" class="nav-link">About Us</a>
                <a href="/contact" class="nav-link">Contact</a>
            </nav>
        </header>

        <section>
            <h2 class="section-title">Our Menu</h2>
            <div class="menu-section" id="menu-section">
                <!-- Menu items will be dynamically inserted here -->
            </div>
        </section>

        <footer class="footer">
            <div class="social-icons">
                <span class="icon"><!-- Insert Instagram Icon --></span>
                <span class="icon"><!-- Insert Facebook Icon --></span>
                <span class="icon"><!-- Insert Twitter Icon --></span>
            </div>
            <p>Â© 2024 Brew Haven. All rights reserved.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/products')
                .then(response => response.json())
                .then(products => {
                    const menuSection = document.getElementById('menu-section');
                    menuSection.innerHTML = '';

                    const categories = {
                        coffee: [],
                        tea: [],
                        juice: [],
                        pastries: []
                    };

                    products.forEach(product => {
                        if (product.type in categories) {
                            categories[product.type].push(product);
                        }
                    });

                    Object.keys(categories).forEach(type => {
                        if (categories[type].length > 0) {
                            const categorySection = document.createElement('div');
                            categorySection.classList.add('menu-category');
                            categorySection.innerHTML = `
                                <h3 class="menu-category-title">${type.charAt(0).toUpperCase() + type.slice(1)}</h3>
                                ${categories[type].map(product => `
                                    <div class="menu-item">
                                        <img src="${product.image_url}" alt="${product.name}">
                                        <div>
                                            <span>${product.name}</span>
                                            <span>${product.description}</span>
                                            <span>$${product.price}</span>
                                            <button class="add-button">Add to Cart</button>
                                        </div>
                                    </div>
                                `).join('')}
                            `;
                            menuSection.appendChild(categorySection);
                        }
                    });
                })
                .catch(error => console.error('Error fetching products:', error));
        });
    </script>
</body>
</html>
